<div class="row">
    <div class="col-md-12 page-header">
        <h3>{{vm.team.name}}
            <small><span><spi-jugend-label jugend="vm.team.jugend"></spi-jugend-label></span> <span
                    class="padding-left-15">{{vm.team.gruppe.name}}</span></small>
        </h3>

    </div>
</div>

<spi-loader loading="vm.loading"></spi-loader>

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <div class="row">
            <div class="col-md-12 text-center">
                <h3>News abbestellen</h3>
            </div>
        </div>
        <div class="row" data-ng-if="!vm.loading && (vm.abgemeldet || vm.abgebrochen || vm.message)">
            <div class="col-md-12">
                <div class="alert alert-success" data-ng-if="vm.abgemeldet">Sie wurden erfoglreich abgemeldet!</div>
                <div class="alert alert-info" data-ng-if="vm.abgebrochen">Vorgang abgebrochen! Sie erhalten weiter
                    Benachrichtigungen
                </div>
                <div class="alert alert-warning" data-ng-if="vm.message" data-ng-bind="vm.message"></div>
            </div>
        </div>
        <div class="row" data-ng-if="!vm.loading && (!vm.abgemeldet && !vm.abgebrochen)">
            <div class="col-md-12 text-center">
                <form name="unsubscribeForm" data-ng-submit="vm.abbestellen()" novalidate>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="width-100 text-center">
                                <h5>Wirklich alle News von {{vm.team.name}} abbestellen?</h5>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-md-offset-4">
                            <div class="form-group" data-ng-class="{ 'has-error': unsubscribeForm.email.$touched && unsubscribeForm.email.$invalid }">
                                <input type="email" class="form-control" placeholder="Email hier eintippen" name="email"
                                       data-ng-model="vm.sub.email" required>
                                <span class="help-block" data-ng-messages="unsubscribeForm.email.$error"
                                      data-ng-if="unsubscribeForm.email.$touched">
                                    <p data-ng-message="required">E-Mail ist ein Pflichtfeld</p>
                                    <p data-ng-message="email">E-Mail ist ung√ºltig</p>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <button class="pull-right btn btn-success" type="submit">Abbestellen</button>
                            <button class="pull-left btn btn-danger" data-ng-click="vm.abbrechen()">Abbrechen</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>